---
import { getLanguageFromUrl, languages } from '../i18n/utils';

const { pathname } = Astro.url;
const lang = getLanguageFromUrl(pathname);
const t = (key: string) => key.split('.').reduce((obj: any, k) => obj?.[k], languages[lang]) || key;
---

<div id="home" class="relative w-full h-screen">
    <!-- Video Background -->
    <video 
        class="absolute top-0 left-0 w-full h-full object-cover"
        autoplay 
        loop 
        muted 
        playsinline
    >
        <source src="/videos/background.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Overlay -->
    <div class="absolute inset-0 bg-black/40"></div>

    <!-- Content -->
    <div class="relative z-10 flex items-center justify-center h-full">
        <button class="bg-emerald-700 hover:bg-emerald-600 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 min-w-[160px] text-center">
            {t('home.support')}
        </button>
    </div>
</div>

<style>
    video {
        filter: brightness(0.8);
    }
</style>